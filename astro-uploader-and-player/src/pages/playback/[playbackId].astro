---
import Layout from '../../layouts/Layout.astro';

const { playbackId } = Astro.params;

const title = 'View this video created with Mux + Astro';
const description =
  'This video was uploaded and processed by Mux in an example Remix application.';
---

<Layout title={title}>
  <!-- First, the player -->
  <mux-player playback-id={playbackId}></mux-player>
  <script>
    import '@mux/mux-player';
  </script>
  <!-- 
    Next, let's make sure this video has some good metadata
    so it shows up nicely on social
  -->
  <Fragment slot="head">
    <meta name="description" content={description} />
    <meta property="og:type" content="video" />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta
      property="og:image"
      content={`https://image.mux.com/${playbackId}/thumbnail.png?width=1200&height=630&fit_mode=pad`}
    />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:title" content={title} />
    <meta property="twitter:description" content={description} />
    <meta
      property="twitter:image"
      content={`https://image.mux.com/${playbackId}/thumbnail.png?width=1200&height=600&fit_mode=pad`}
    />
    <meta property="twitter:image:width" content="1200" />
    <meta property="twitter:image:height" content="600" />
    <!--
      These tags should be sufficient for social sharing.
      However, if you're really committed video SEO, I'd suggest adding ld+json, as well.
      https://developers.google.com/search/docs/appearance/structured-data/video
    -->
  </Fragment>
</Layout>
